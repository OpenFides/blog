
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>田字格字帖生成器</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="朱明武">
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/tie.css" rel="stylesheet" />
    <link rel="shortcut icon" href="./favicon.ico">

</head>

<body>
    <div id="setting" class="no-print">
        <div class="tie" id="temp" style="display:none;">
            <span></span>
            <img src="images/bg11.jpg" />
        </div>
        <div class="btn-default" role="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
            朱明武字帖
        </div>
        <div class="collapse" id="collapseExample">
            <div>
                修改字帖内容：
            </div>
            <textarea id="content" style="width:100%; height:200px;" onkeydown="changeContent();">   卜算子-迎春  
  桃花映酒红，               
  柳叶染衣绿。               
  虽是杨春三月天，             
  花开花易落。               
  该来的要来，               
  该去的要去。               
  若得芳草犹胜花，             
  何必问出处。               
</textarea>
        </div>
    </div>
    <div id="tie" style="width:720px">
    </div>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
        var temp = $("#temp");
        var cont = $("#content");
        var tie = $("#tie");
        function changeContent() {
            var content = cont.val();
            if (content.length <= 0) {
                return;
            }
            tie.html("");
            for (var i in content) {
                if (i % (12 * 17) == 0) {
                    tie.append("<div style='page-break-after:always;'></div>");
                }
                var div = temp.clone();
                div.show();
                if (content[i] == ' ') {
                    div.find("span").html("&nbsp;");
                }
                else {
                    div.find("span").html(content[i]);
                }
                tie.append(div);
            }
        }
        changeContent();
    </script>
</body>
</html>
