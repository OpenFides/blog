package recordview

import (
	"dbweb/core"
	"github.com/linlexing/dbx/ddb"
)

//ProcessParam 是点击下方按钮，传递的参数
type ProcessParam struct {
	user        *core.User
	Select      *RecordSelect
	FromElement string
	SelKeys     []string
	HideCols    []string //显示用到的列名，因为有些流水号列不用显示
}

//FromRecordView 返回调用方工作元素的详细资料
func (r *ProcessParam) FromRecordView(db ddb.DB) *FromRecordView {
	ele := core.LoadElement(db, r.FromElement)
	eleParam := ParseParam(ele.Params, r.user)
	return &FromRecordView{
		Element: ele,
		Params:  eleParam,
	}
}
