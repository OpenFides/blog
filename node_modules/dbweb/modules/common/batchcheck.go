package common

import (
	"dbweb/core"
	"dbweb/modules/common/recordview"
)

//BatchCheck 批量审核
type BatchCheck struct{}

func init() {
	core.RegisterFun("batchcheck", new(BatchCheck), "_layout/blank")
}

//Get 业务
func (d *BatchCheck) Get(p *core.ElementHandleArgs) {
	callParams := recordview.GetCallParam(p)
	fromEle := core.LoadElement(p.DB, callParams.FromElement)
	p.More["FromElement"] = fromEle
	num, err := callParams.Select.RowCount()
	if err != nil {
		core.LOG.Panic(err)
	}
	p.More["rowCount"] = num
	p.More["tableName"] = callParams.Select.TableName
	p.HTML()
}

//Post 业务
func (d *BatchCheck) Post(p *core.ElementHandleArgs) {
	p.RenderMessage("未实现")
}
