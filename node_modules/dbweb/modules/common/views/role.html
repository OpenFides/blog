<form  class="form-horizontal">
	<div class="form-group">
		<label for="fldNAME" class="control-label col-md-1 bill-label">名称:</label>
		<div class="col-md-5">
		{{template "_bill/input" (.Field "NAME")}}
		</div>
		<label for="fldDEPT" class="control-label col-md-1 bill-label">部门:</label>
		<div class="col-md-5">
		{{template "_bill/input" (.Field "DEPT")}}
		</div>
	</div>
	<div class="form-group">
		<label for="fldVISIBLE" class="control-label col-md-1 bill-label">可见表达式:</label>
		<div class="col-md-11">
		{{template "_bill/textarea" (.Field "VISIBLE")}}
		</div>
	</div>
	<div class="form-group">
		<label for="fldROLEELE" class="control-label col-md-1 bill-label">菜单项:</label>
		<div class="col-md-11">
			<select class="select2" id="fldElements" data-bill-childname="ROLEELE"  multiple="multiple" style="width:100%" {{if in .Param.Operate "delete" "browse"}}disabled{{end}}>
			{{range .More.ElementNames}}
				<option>{{.}}</option>
			{{end}}
			</select>
		</div>
	</div>
</form>
<script>
	$("#fldElements").select2({tags:true,tokenSeparators: [',', ' ']});
	$("#fldElements").data("oncollection",function(){
		return _.map($("#fldElements").val(),function(val){
			return {"ELENAME":val};
		});
	});
	$("#fldElements").val(_.map({{.Record.Child.ROLEELE}},function(val){
		return val.ELENAME;
	})).trigger("change");
</script>