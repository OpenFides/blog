<style type="text/css">
	body {
		background-color: #eee;
	}
	.modal.fade{
		padding-top: 40px;
		padding-bottom: 40px;
	}
	.mdlLogin {
		max-width: 400px;
		margin: 0 auto;
	}
	{{if not .More.Error}}
	#divError{
		display: none;
	}
	{{end}}
</style>
<div class="modal fade">
	<div class="modal-dialog mdlLogin" data-backdrop="static">
		<form name="frmLogin" role="form" action="{{.Req.URL.String}}" method="POST">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">{{.ProjectLabel}}</h4>
				</div>
				<div class="modal-body">
					<div class="input-group input-group-lg">
						<div class="input-group-addon"><i class="fa fa-user fa-fw"></i></div>
						<input type="text" id="userName" name="userName" class="form-control" placeholder="用户名" required autofocus></input>
					</div>
					<div class="input-group input-group-lg">
						<div class="input-group-addon"><i class="fa fa-key fa-fw"></i></div>
						<input type="password" name="password" class="form-control" placeholder="密码" required></input>
					</div>
					<div id="divError" class="alert alert-danger">{{toHtml .More.Error}}</div>
				</div>
				<div class="modal-footer">
					<button class="btn btn-primary btn-lg" type="submit">登录</button>
				</div>
		</form>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<script>
	$(".modal").modal({
		backdrop: "static"
	});
	$(function () {
		$("#userName").blur(function () {
			if ($(this).val() == "") return;
			$.get(window.location.pathname + "?" + $.param({ a: "cu", u: $(this).val() }), function (result) {
				if (!result.check) {
					$("#divError").show().html("用户名无效");
				} else {
					$("#divError").hide().html("");
				}

			});
		})
	});

</script>