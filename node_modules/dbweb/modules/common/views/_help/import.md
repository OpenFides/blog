导入格式说明
-------------------
在导入的界面上，显示了要导入的字段格式说明

![](/help_file/import/1.png)

1.  如果数据类型是字符串，特别要注意这里的长度说明，数据必须要小于该长度，否则会导致导入失败
2.  这里指明了哪些字段是必须导入内容的，如果是 **必须** 则说明该字段不能忽略且不能有空值

清空可管理的数据
--------------------
在格式说明的下方，系统提示了存贮的表名，以及表中总记录数，和可以管理的记录数；

![](/help_file/import/6.png)

**表中总记录** 是指物理表中记录数，有些表存放多专业多期别的数据，该数据永远大于等于可管理的记录数；

**可管理记录** 是指用户可以删除的记录数，由于导入总是以覆盖追加的方式添加数据，不会自动删除旧数据，所以，如果要重新导入整个数据，就，必须要点击 **删除** 按钮来删除旧记录。

导入参数设置
--------------------
![](/help_file/import/2.png)

1. 默认首行识别为标题行，如果首行是数据，则需要去掉该选项
1. 选择格式，如果是 **自定义** ,则需要在3处录入分隔字段的字符
2. 选择上传的文件的字符集，一般是UTF8，如果看到乱码，选择GBK试试
3. 自定义格式的字段分隔符号，每行记录固定用换行符分隔
4. 改变格式和字符集后，需要点击该按钮进行重新识别，否则参数未起作用
5. 识别出前50行的数据，如果是乱码，需要改变字符集

指标对照设置
--------------------
![](/help_file/import/3.png)

1. 设置数据库内字段与导入字段的对照，如果没有数据导入，则可以选择 **(忽略)** (如果字段类别是 **必须** 则导入会出错)，也可以选择 **(定值)** ，并在2处录入值
1. 选择 **(忽略)** 的字段，不会影响现有值，即可以用其实现多次拼接导入
2. 如果需要将该字段设置为固定的值，则在该处录入值，可以使用{{"{{.成员}}"}}的方式调用模板系统，有效的成员有
	* User，访问当前登录用户的变量
	* LSession，访问Session变量
	* More，访问Query中 **more_** 前缀的变量

导入进度查看
--------------------
用户提交导入后，系统出现提示

![](/help_file/import/4.png)

可以点击链接打开任务详细执行进度的界面（也可以在 **系统管理->任务->任务查询** 中查看状态)

![](/help_file/import/5.png)

1. 该处 **runing** 代表正在执行中，如果执行完毕，这里会是 **completed** ，如果出错，这是 **error**
2. 该处每隔5秒显示一个进度（需要F5刷新，前台界面才更新），如果完成，则会提示 **merge ? to ?,used time:?s** 字样

-------------------------
#### 注意事项

>* **如果导入出现错误，则界面会额外显示出错的信息**
* **导入永远会按照主键进行覆盖，即如果库中已有数据将会先删除相同的记录，然后导入**
