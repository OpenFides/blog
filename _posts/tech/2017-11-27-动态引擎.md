---
layout: post
title: 动态脚本引擎的实现
---

使用以下表达式可以得到函数名和函数休
(?:^function[ ]*)(?<name>[\s\S]*?)\{(?<body>[\s\S]*$?)\}\n
```javascript
function name(url, options) {
        this.stop = true;
        this.url = url;
        this.options = options;
        this.ack = [];
        this.events = new Array();
        this.on = function (event, callBack) {
            this.events[event] = callBack;
        }
        this.onmessage = function (callBack) {
            this.on("message", callBack);
        }
}
```
