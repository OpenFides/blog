# 1. 硬件基础

1. 使用F5或LVS这为前端负载均衡
2. 中间使用Nginx做前端代理
3. 以IIS，Aparch等作为Web服务。
4. 使用Jenkins可持续发布。
5. 需要引入配置中心（自主研发）实现自动化蓝绿发布和ABTest
6. 当服务应用启动后需要自动注册到配置中心。
7. 当服务应用退出后需要自动注销配置中心信息。
8. 配置中心定期检查服务应用的服务状态。
9. 配置中心会根据配置信息自动部署服务内容,并重载负载均衡。

# 2. 软件框架

## 2.1. 多租户

整个软件框架以DI为基础对外提供服务，所有功能都以服务的方式提供。多租户依然是运行在同一个应用程序集中，根据用户请求，主要是Host和Port，区分不同的租户。可以将每个租户视为独立的网站。
所有租户都是在用户第一次请求时被激活。长时间没有访问的租户可以定期释放资源。
不同的租户会有不同的请求管道，但它们会共享中间件。

## 2.2. 模块化

将用户的请求路由到租户的功能模块（路由，控制器，过滤器，视图）。

## 2.3. 代码结构
### 2.3.1. 基础：日志存储系统，数据库系统，文件存储系统，缓存系统，任务调度系统

### 2.3.2. 框架：用户连接connect， 租户应用application，功能模块module

### 2.3.3. 模块：网络硬盘模块，网页管理模块, 电子书模块， 微信管理模块

### 2.3.4. 界面: FrontPage，Backoffice


# 3. 功能设计

## 3.1. 用户登录
用户登录后，可以
### 3.1.1. 修改个人信息：
基本信息
安全信息
扩展信息
### 3.1.2. 管理所有应用：
查看所有应用
创建新的应用
选择管理应用
### 3.1.3. 退出登录

## 3.2. 应用管理
应用配置 - 配置应用的域名，邮件服务等
模块管理 - 增加或删除模块
用户管理 - 增加或删除用户
权限管理 - 个性用户对应用模板的管理权限
数据管理 - 管理应用中的数据
缓存管理 - 管理应用中的缓存
日志管理 - 管理应用的日志信息

## 3.3. 内容管理
根据应用所加载的模块，菜单会自动将模块中的菜单根据用户的角色加载出来。
不同的模块需要管理的内容不同。

## 前端展示
### 静态文件
### 网盘内容
### 动态文件
Liquid View Result - Markdown Page


