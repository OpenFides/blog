## 授权接口

### 请求方式
GET http://sparkapi.accuat.com/connect/authorize?AppId=AppId&CallBack=CallBack&ResponseType=code&scope=scope&state=state#redirect

### 请求参数
<table>
    <tr>
        <td>参数</td>
        <td>类型</td>
        <td>必须</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>AppId</td>
        <td>String</td>
        <td>是</td>
        <td>应用Id</td>
    </tr>
    <tr>
        <td>CallBack</td>
        <td>String</td>
        <td>是</td>
        <td>授权后重定向的回调链接地址， 请使用 urlEncode 对链接进行处理</td>
    </tr> 
    <tr>
        <td>ResponseType</td>
        <td>String</td>
        <td>否</td>
        <td>返回类型，默认：code</td>
    </tr> 
    <tr>
        <td>scope</td>
        <td>String</td>
        <td>是</td>
        <td>应用授权作用域</td>
    </tr> 
    <tr>
        <td>state</td>
        <td>String</td>
        <td>是</td>
        <td>重定向后会带上state参数，开发者可以填写a-zA-Z0-9的参数值，最多32字节</td>
    </tr> 
    <tr>
        <td>#redirect</td>
        <td>String</td>
        <td>是</td>
        <td>302重定向时候，必须带此参数</td>
    </tr> 

</table>

### 响应定义

<table>
    <tr>
        <td>参数</td>
        <td>类型</td>
        <td>必须</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>Token</td>
        <td>String</td>
        <td>是</td>
        <td>授权码</td> 
    </tr>
    <tr>
        <td>RefreshToken</td>
        <td>String</td>
        <td>是</td>
        <td>刷新Token的授权码</td>
    </tr>
    <tr>
        <td>ExpiredIn</td>
        <td>Int</td>
        <td>是</td>
        <td>Token有效时间，单位秒</td>
    </tr>
</table>



## 获取令牌

### 请求方式
GET http://sparkapi.accuat.com/connect/access_token?appid=APPID&SecretKey=SHA&Code=CODE&GrantType=authorization_code

### 请求参数
<table>
    <tr>
        <td>参数</td>
        <td>类型</td>
        <td>必须</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>GrantType</td>
        <td>String</td>
        <td>是</td>
        <td>默认client_credential，详细参考授权表</td> 
    </tr>
    <tr>
        <td>AppId</td>
        <td>String</td>
        <td>是</td>
        <td>应用Id</td>
    </tr>
    <tr>
        <td>Code</td>
        <td>String</td>
        <td>是</td>
        <td>授权码或随机数</td>
    </tr> 
    <tr>
        <td>SecretKey</td>
        <td>String</td>
        <td>是</td>
        <td>SHA(AppId&Code&GrantType&AppSecretKey)</td>
    </tr> 
</table>

### 响应定义

<table>
    <tr>
        <td>参数</td>
        <td>类型</td>
        <td>必须</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>Token</td>
        <td>String</td>
        <td>是</td>
        <td>授权码</td> 
    </tr>
    <tr>
        <td>RefreshToken</td>
        <td>String</td>
        <td>是</td>
        <td>刷新Token的授权码</td>
    </tr>
    <tr>
        <td>ExpiredIn</td>
        <td>Int</td>
        <td>是</td>
        <td>Token有效时间，单位秒</td>
    </tr>
</table>

## 刷新Token接口

### 请求方式
GET http://sparkapi.accuat.com/connect/refreshtoken?AppId=AppId&grant_type=refresh_token&RefreshToken=RefreshToken

### 请求参数
<table>
    <tr>
        <td>参数</td>
        <td>类型</td>
        <td>必须</td>
        <td>说明</td>
    </tr>
       <tr>
        <td>GrantType</td>
        <td>String</td>
        <td>是</td>
        <td>默认refresh_token，详细参考授权表</td> 
    </tr>
    <tr>
        <td>AppId</td>
        <td>String</td>
        <td>是</td>
        <td>应用Id</td>
    </tr>
 <tr>
        <td>RefreshToken</td>
        <td>String</td>
        <td>是</td>
        <td>授权接口中返回的RefreshToken</td> 
    </tr>
</table>

### 响应定义

<table>
    <tr>
        <td>参数</td>
        <td>类型</td>
        <td>必须</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>Token</td>
        <td>String</td>
        <td>是</td>
        <td>授权码</td> 
    </tr>
    <tr>
        <td>RefreshToken</td>
        <td>String</td>
        <td>是</td>
        <td>刷新Token的授权码</td>
    </tr>
    <tr>
        <td>ExpiredIn</td>
        <td>Int</td>
        <td>是</td>
        <td>Token有效时间，单位秒</td>
    </tr>
</table>

