<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Long Flight</title>
    <style media="screen">
        body {
            /* background: #2c4e6b; */
        }
    </style>
    <script src="snap.svg.js"></script>
</head>

<body>
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        width="1024" height="200" id="svg">
        <defs>
            <mask id="mask2" x="0" y="0" width="1024" height="200">
                <path id="path"
                    d=""
                    stroke-miterlimit="10" style="stroke:none; fill: #00ff00" />
            </mask>
        </defs>
        <!-- 
        <path
            d="m 38.817249,36.356986 q 5.625,1.125 6,1.5 3.375,1.125 4.125,3.375 -1.875,1.875 -5.625,2.625 -2.25,0.375 -5.999997,1.875 -3,1.5 -3.375,4.875 -2.25,12 -2.25,19.499999 l 3.75,-0.75 q 0,0.375 0,0.75 0,2.25 -1.5,4.5 -1.5,2.25 -3.75,2.25 -4.5,0 -4.5,-9.374999 0,-7.125 2.625,-19.5 -0.75,0 -1.875,0 -2.625,0 -6.75,0.75 -5.25,1.125 -7.125,1.5 -1.875,4.875 -5.2499999,15.375 1.875,1.125 1.875,3.374999 0,2.25 -1.875,3.375 h -5.25 q -1.87500004,0 -1.87500004,-3 0,-1.125 4.12500004,-14.249999 3,-10.5 4.5,-22.5 0.375,-4.125 1.4999999,-22.8750003 0.375,-0.375 1.5,-0.375 1.5,0 3,1.5000003 1.875,1.5 1.875,3 l -2.625,27 q 3.375,0 10.125,-0.75 6.375,-0.75 7.875,-4.5 0.375,-1.125 1.5,-10.125 0.75,-6.375 1.5,-9.75 1.5,-5.25 3.749997,-9.0000003 0.75,0 1.125,0 2.25,0 3,2.25 z m 62.250001,4.875 q 0,2.25 -2.250001,5.25 -13.125,7.5 -27.75,7.5 -2.625,0 -5.625,0 -2.25,1.5 -2.25,4.5 0,3 2.625,4.875 1.875,1.5 5.25,1.5 4.125,0 13.5,-3.75 9.375,-3.75 13.5,-3.75 2.250001,0 3.750001,1.125 -16.125001,13.874999 -29.250001,13.874999 -7.125,0 -11.25,-3.375 -4.5,-3.749999 -4.5,-10.874999 0,-1.125 0,-3 0,-2.25 0,-3.375 0,-3.375 -0.75,-4.875 4.125,-0.75 9.375,-5.625 6,-5.625 9,-6.375 4.875,-1.5 10.875,-1.5 4.875,0 9.375,1.5 6.375001,2.25 6.375001,6.375 z m -6.750001,0 q -3.375,-1.875 -7.875,-1.875 -3.75,0 -7.875,1.5 -4.5,1.875 -6.75,4.5 -1.125,1.5 -1.125,2.25 0,1.875 3,1.875 4.5,0 10.875,-2.625 6.375,-2.625 9.75,-5.625 z m 34.875001,-27.75 q 0,6.375 -5.25,9.75 -2.25,21 -4.125,44.999999 1.5,1.125 1.5,3 0,1.5 -1.125,3 -1.125,1.5 -2.625,1.5 -1.5,0 -3,-2.25 0.75,-23.249999 2.625,-41.249999 0.375,-6 2.25,-17.625 0.375,-1.875 2.625,-3.75 2.25,-1.8750003 4.125,-1.8750003 3,0 3,4.5000003 z m 26.625,0 q 0,6.375 -5.25,9.75 -2.25,21 -4.125,44.999999 1.5,1.125 1.5,3 0,1.5 -1.125,3 -1.125,1.5 -2.625,1.5 -1.5,0 -3,-2.25 0.75,-23.249999 2.625,-41.249999 0.375,-6 2.25,-17.625 0.375,-1.875 2.625,-3.75 2.25,-1.8750003 4.125,-1.8750003 3,0 3,4.5000003 z m 28.875,19.5 q 7.125,0 12,5.25 5.25,4.875 5.25,11.625 0,9.375 -7.5,16.5 -7.5,7.124999 -16.875,7.124999 -9,0 -14.25,-6.749999 -0.375,-1.125 -0.375,-2.25 0,-11.25 8.25,-19.125 0,-5.25 4.125,-9 4.125,-3.375 9.375,-3.375 z m 10.5,16.125 q 0,-3.75 -2.625,-6 -2.25,-2.25 -6,-2.25 -2.625,0 -4.5,1.5 1.5,2.25 1.5,4.125 0,3 -3.375,5.625 -3,2.625 -6,5.25 -3.375,3 -3,6.75 v 0.75 q 6.75,0 10.125,-0.75 5.25,-1.125 8.625,-4.5 5.25,-4.875 5.25,-10.5 z m 119.625,-26.25 q 0,30 -16.875,44.25 -3.75,3.374999 -5.625,3.374999 -1.5,0 -3.375,-1.5 -8.625,-5.624999 -8.625,-19.499999 -9,16.125 -13.875,23.624999 -3.75,0 -5.625,-3 -1.125,-2.249999 -1.5,-7.124999 0,-2.625 -0.375,-7.5 -0.375,-4.5 -2.25,-15.75 -2.25,-9.75 -2.25,-15.75 0,-7.125 1.5,-10.5 0.375,-0.75 1.5,-0.75 0.375,0 1.125,0 0.75,0 1.125,0 2.625,7.5 3.375,22.5 1.125,15.375 3.375,22.5 3,-4.125 8.25,-15 4.5,-10.125 8.625,-15 4.125,2.25 4.125,6 0,1.5 -0.75,3.75 -0.375,2.625 -0.75,3.375 -0.375,3.375 -0.375,6.375 0,3.375 1.125,8.25 1.5,6.375 4.125,6.375 1.5,0 3.75,-2.25 13.875,-15 13.875,-36.75 0,-6 -1.125,-11.25 -1.125,-5.6250003 -1.125,-5.6250003 0,-4.875 3.375,-4.875 2.25,0 3.375,3 1.875,4.5 1.875,18.7500003 z m 26.25,10.125 q 7.125,0 12,5.25 5.25,4.875 5.25,11.625 0,9.375 -7.5,16.5 -7.5,7.124999 -16.875,7.124999 -9,0 -14.25,-6.749999 -0.375,-1.125 -0.375,-2.25 0,-11.25 8.25,-19.125 0,-5.25 4.125,-9 4.125,-3.375 9.375,-3.375 z m 10.5,16.125 q 0,-3.75 -2.625,-6 -2.25,-2.25 -6,-2.25 -2.625,0 -4.5,1.5 1.5,2.25 1.5,4.125 0,3 -3.375,5.625 -3,2.625 -6,5.25 -3.375,3 -3,6.75 v 0.75 q 6.75,0 10.125,-0.75 5.25,-1.125 8.625,-4.5 5.25,-4.875 5.25,-10.5 z m 50.25,-4.125 q -2.625,3.375 -5.625,3.375 -1.125,0 -1.875,-0.375 -1.125,-1.875 -3.375,-3.375 -2.25,-1.5 -4.5,-1.5 -6.375,0 -10.875,12.375 -3.375,10.125 -3.375,18.374999 -0.75,0.375 -1.5,0.375 -4.125,0 -4.875,-5.625 -0.375,-3.374999 -0.75,-10.499999 -0.75,-7.125 -0.75,-10.5 0,-6 1.5,-10.5 5.25,1.5 5.25,3.375 0,0.75 -0.375,2.25 0,1.125 0,1.5 0,1.875 0.75,2.625 6.75,-6.375 7.125,-7.125 4.875,-3.75 9,-3.75 4.125,0 7.875,3 0.375,0.375 6.375,6 z m 25.875,-31.5 q 0,6.375 -5.25,9.75 -2.25,21 -4.125,44.999999 1.5,1.125 1.5,3 0,1.5 -1.125,3 -1.125,1.5 -2.625,1.5 -1.5,0 -3,-2.25 0.75,-23.249999 2.625,-41.249999 0.375,-6 2.25,-17.625 0.375,-1.875 2.625,-3.75 2.25,-1.8750003 4.125,-1.8750003 3,0 3,4.5000003 z m 59.25,-12.0000003 q 0.375,1.875 0.375,3.75 0,10.8750003 -4.125,25.1250003 -3.375,12 -7.125,24.375 0.375,0.375 1.125,0.375 0.375,0 2.25,-1.875 1.875,-2.25 3.75,-2.25 -0.75,2.625 -5.25,8.625 -3.75,5.25 -3.75,8.624999 l 0.375,0.75 h 1.5 q 0,2.625 -3,2.625 -0.75,0 -3,-0.375 -1.875,-0.375 -2.625,-0.375 -3.375,0 -9.75,1.125 -6.375,0.75 -9.75,0.75 -4.125,0 -7.875,-1.5 -4.875,-1.5 -6.75,-4.499999 -0.75,-1.875 -0.75,-5.625 0,-11.25 12.375,-18.375 10.125,-6 22.5,-6 3.375,0 6.375,0.375 2.25,-5.625 4.875,-17.625 3,-12.0000003 5.625,-18.0000003 z m -16.125,43.1250003 q -2.625,-0.75 -5.625,-0.75 -9,0 -17.625,5.625 -8.25,5.25 -8.25,10.5 0,6 9.75,6 10.5,0 19.5,-5.625 0,-3 1.125,-7.875 1.125,-5.625 1.125,-7.875 z"
            fill="none" stroke="#ffffff"
             stroke-miterlimit="10" mask="url(#mask2)"
             pointer-events="stroke" /> -->

        <!-- <text style="font-size:120 ;font-family:'嗡阿吽－田英章钢笔楷书简' ; color: blue;" x="10" y="160">
            <tspan stroke-miterlimit="10" mask="url(#mask1)" pointer-events="stroke">Simple Text</tspan>
        </text> -->

        <image width="12" height="12" preserveAspectRatio="none"
            xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEMAAABBCAYAAACKAhl4AAAABHNCSVQICAgIfAhkiAAACWlJREFU&#10;eJztW9lyG8cVPbNjsBAgSGqLJVmKYqcqL3nI/39FHlKVlGRrJSWCIDDAYLaeycO5zW5CsEAslO0q&#10;3KrxgCA103363O1025lmTYODAQDc33sAfyQ7gGHZAQzLDmBYdgDDsgMYlh3AsOwAhmUHMCw7gGHZ&#10;AQzLDmBY5t/nw0sF5Ir3UgFVA6gaKGveVQ2ohpfrAA5415cn99AHQhcIPCD0AM+9/Xf7snsFY1EB&#10;1wtgWgDTDEhLfjcrgKwCFiXvuQJ8l1egLw+IfE7+uAX0W0A/AgYxv4sEGPxZwCgqYJIDlynweQZM&#10;c15XCwIyzYFZCcwLmbjLe+QBcQC0AyD2gcc94EEHqLoEqQ7IGt8FvD2O917ByBUwyYDPc+DdFBil&#10;BOJ8BlxnwGjB309yTrrlGwA6IXAUAd2QbKpqTr4XAY4j7NjzeHcCo2mABkDd8HNaAklB10gK4GJG&#10;EC5mvJJcfp+RDWnJ+AEwbhSKE60bxpeyBuYl35EUBPVDApy2gcdd4KRNwGKfjIqD3xEMCBD6mhV0&#10;Bw3AZQp8THgfpRInKoKQV7yq2jynqgFUQC1BtlRA6vL7JAe+zAnIk56JNYUCBi0+4w8Bhqo54EkO&#10;vJ8C/74A/ncFjDPgcs77NDegqcb8u1pER1UDtcPn5A7glCZbjBYSH1ygFwIvhwSjkCwF8PeDHeey&#10;m5uAA8oqXqMUuBAqv51wNccZ72m1/lk3auw3VNlZwdjSjxhMAZNyT9omPTt3SLt6EfXi7ASGdo1J&#10;xuu9uMco5c+pUFntUXJWNd95PuPPpTKp9qzDtOxLal4HRqEk3ZeS3ncd2DQnAJ9mwOsxGXExJ7XL&#10;mi/UcWEfphq6IybAeMHPLclET47MZ+8OtXWuGMwn4sY7M2NecOIfprzOhRnXmaH+PvciNBsXJSec&#10;VcwsZx1+30g1G3lYW4SUCpjlwFUKXC62AMNOp6XUERczMkLXErNiN9fwdB0hFWjLN8WY795O30lh&#10;stabMePGSWwKt2+Z7/JvehFZvDkYMJmgqDmYqwUB+TJnsCzUliiIeTLIvhRdg5j1xFFEYPTEc2XS&#10;7mXKBVFSnJ3E698TeEBXijjP3ZIZOj2Wiiy4WgDnc4KRS3O2i3kOC6lBCxjGLMfPOrw6AYFKcrKw&#10;UFyQL3PgbUggOiEXap2FHlN15Eng3XSgujjSKXWaM2acz4Av6TZTp9kdaxwQiMc9xoNnA+BRF3jY&#10;5USzCvj1mpOZl3RVzyFrWz5wHLOgW2ehbvYgLrjpoHXZvCg5EF1F7rpjq+NCOyAbnh4Bfx3yfhTJ&#10;xCWNj1J+1u/NlQFlXnBM9YbjUdvUGVXNl80LUnVR0V02ffmy6Rhx0iYLXh4D/3gAvDgm+NOcMsDF&#10;nCxMClMwZZWpKZKcC7VpOq+2CaC19AyLyjCj3BMzjiLgrM3e41mfgPx0yn4nk/d9lIyVChh1YwK2&#10;ksYu24IZW1WgSrrJrAKykgNR9epa4iYtijpV1UbpWrZhzJjwtA/8cMTOtB1wxQtlMsanGQN2WnIs&#10;TWPcpW6M234XMGoLjEVlKsxVLx+06PMPuswCs8KU78t1yKsh8HwA/HxCYAKPk05y4Jdr4M010+n7&#10;Kb+bW66galDNVcZ1tmHqVmAoySbrVqEXcaVfDRnhRylX93z2tU8/7QMvBsDfTsiIiVSGk5wgvJsS&#10;iM9zIxlqRjaQz45purbx2q2Zkd+BGcctTu5fT5gi38uEYv/rWuTVEPj7KfDPR/z5P5fAf0e8vxkT&#10;QH2tGhNAIPRYvgsYnkOtMg5I/chnobOqQ0xLVqZvxiYdRz7dYRm8XkiAfp0Q6Ndj4N0E+JQYzXRV&#10;ZeuA8Uhroi2fBdSmqvlWFagr7XHsA22relv17rQkrdsBV60tIu9pm4O/9VyHAvLbCWPKL9d0DR0w&#10;fxMMh+/XvUws/czGYDhbgOGLgt0JgV5JhvyWdpDknNCiJDAvj9kz/HzKQdum44HufD9MyY4PiSmw&#10;VmUhV5q6tjC1HUj2+h7M0B1lHBCQlqyEdhW7Zc8qBsG8AnxRolTD5qu71FG+g4An3e/nuegi6WoQ&#10;tGkwYp8Bux1w0+kuzNAyZCNJYXMwXCLfDUlb3U0eRawS9QpWci0qgnM5J/X1ii0z4/XYsOGLVsrK&#10;9fWC53BRBjHwsMO03A3pOussr4zStZW4o5kByAqHHEwnJFt0X1DB9DF1Qy30U8J/pxoRXyz7kLDz&#10;/JgQiIWo5+uyguuQnb1Qtg5aZMddlK5SirlpTtVsK2a4Ermrmn7aFX+NfQBL5XHeAIVFWb0Kyys3&#10;kppilBIILdauY4YrGaQnfU0/4qL4dwCjsCSIUbpNNnEAOFTUWqI5POwyXVY1H1w1xj2UVEVpaQYw&#10;L78OcIlIeboBWzcGvSndDQjC4x7wo7T6g5Zh77fMkecEkhR20kBdh7R81DWdoudy5ZdN9xBZZbQL&#10;2/Q+yLoy2gFXPZSU3ouA05hjeNZnpduP7gZGKEoXwKC7Exiey4ClaqAVEOmmYaG1bLq7VNL1Oktg&#10;6CZunVs44qJ6b3Yoi/G8D/x0Yumld5hZJMxuB8DxNtnENs9hFvEc2SAu6SbtFUJsA8kw2F0W9EX9&#10;bouYeyoayPMNt9RspQvYw/ai9re6IUt+OGJRBTA2JLk5l2Hvy25iN+c2pJ4YxjyioN/3uMdF2dV2&#10;AsNxzBaf7zKQ6uD3oMNK0t6E1rVHqTZrpEJPqsuQzd+THhWwJ1oj7ROYXW03MGAqz6Ax8rzvUsl+&#10;PRZZThjigDGl3PA9gTSGWgn7i+ijLwYstPotusuutjMzfDsQtsiUTkAfDj2zS+65dJVMhGRltdpN&#10;w2c5uH3XavlxzEB5HBtWvBIwtBC0aS+yyvZ6csd1zCq6Dl3l5ZAR/qxNENLSbDSVyriObsM91zrf&#10;JelTn+fqt0ywHMamuNK77rva/sGwYsiDDr87lUCXWLKfZkkuipmeuI7w+iRO5NEFdOmvgTmOzQbz&#10;vk79Ofv8f9Qai/aAHGsUTXJRstyeZEaf0JlmXpiJxwEn2QkJQsfqjmPfsM5zvgZhV3bslRna37XS&#10;4938x6hP+vxEN2RztSh5jqPl3d5kjgP+TRwYwUYz5r7sXk/72eZJPdJAeooQyCOJHfXtc6C+Zw6g&#10;hB5dSB9juk/7bmBoEUaz48aFanNC+Ib+VjDV932fBl5le40Zf3Y7HKS37ACGZQcwLDuAYdkBDMsO&#10;YFh2AMOyAxiW/R8OpRi8HdJfQgAAAABJRU5ErkJggg==&#10;"
            id="pen" x="0" y="0" />
    </svg>

    <script>
        var svg = Snap('#svg');
        window.onload = function () {
            // First lets create our drawing surface out of existing SVG element
            // If you want to create new surface just provide dimensions
            // like s = Snap(800, 600);
            // 动画样例1

            // Lets create big circle in the middle:
            // var bigCircle = svg.circle(150, 150, 100);
            // By default its black, lets change its attributes

            // bigCircle.attr({
            // 	fill: "#bada55",
            // 	stroke: "#000",
            // 	visibility: "hidden",
            // 	strokeWidth: 5
            // });


            // var circle = svg.paper.circle({ cx: 100, cy: 100, r: 50, fill: '#f00' });
            // circle.animate({ fill: '#00f' }, 1000, mina.easeout(), function () {
            // 	console.log('animation end');
            // });

            // svg.select('circle').animate({ r: 100 }, 1000, mina.easeout(), function () {
            // 	console.log('animation end');
            // });
            // 开始态
            // var path = svg.paper.path({ d: 'M0.500,65.500 C18.680,33.758 45.141,-6.797 72.500,2.500 C99.859,11.797 72.148,59.027 79.500,98.500 C86.852,137.973 117.668,128.914 138.500,59.500 C159.332,-9.914 246.500,59.500 246.500,59.500 C273.181,117.750 137.350,184.417 225.500,173.500 C351.137,157.940 155.369,160.617 162.500,86.500 C165.180,58.645 237.169,-2.418 283.500,2.500 C357.654,10.371 363.758,80.355 364.500,109.500', stroke: '#f00', fill: 'rgba(0,0,0,0)' });
            // // 终止态：心形
            // path.animate({ d: 'M114.500,58.500 C106.230,58.751 23.907,-37.262 5.500,21.500 C-26.759,124.483 111.761,221.360 119.500,219.500 C154.464,211.096 201.234,149.580 220.500,104.500 C250.260,34.864 220.892,7.159 194.500,1.500 C160.455,-5.800 122.344,58.262 114.500,58.500 Z' }, 1000, mina.easeout(), function () {
            // 	console.log('animation end');
            // });
            // var circle = svg.select('circle');
            // var rect = svg.select('rect');
            // Snap.animate(0, 100, function (val) {
            // 	circle.attr({ r: val });
            // 	rect.attr({ x: val });
            // }, 1000, mina.easeout(), function () {
            // 	console.log('animation end');
            // });


            var path = svg.select('#path');
            // var length = Snap.path.getTotalLength(path);
            // path.attr({
            // 	'stroke-dashoffset': length,
            // 	'stroke-dasharray': length  // 用Snap的API计算复杂的path长度
            // });
            // Snap.animate(length, 0, function (val) {
            // 	path.attr({
            // 		'stroke-dashoffset': val
            // 	});
            // }, 10000, mina.easeout(), function () {
            // 	console.log('animation end');
            // });



            // var length = Snap.path.getTotalLength(path); // 获取path的长度
            // Snap.animate(0, length, function (val) {
            // 	var point = Snap.path.getPointAtLength(path, val); // 根据path长度变化获取坐标
            // 	var m = new Snap.Matrix();
            // 	m.translate(point.x, point.y);
            // 	m.rotate(point.alpha - 90); // 使飞机总是朝着曲线方向。point.alpha：点的切线和水平线形成的夹角
            // 	plane.transform(m);
            // }, 30000, mina.easeout(), function () {
            // 	console.log('animation end');
            // });

            // var rect = Snap().rect(0, 0, 10, 10);
            // Snap.animate(0, 10, function (val) {
            // 	rect.attr({
            // 		x: val
            // 	});
            // }, 1000);
            // // 类似于
            // rect.animate({ x: 10 }, 1000);


            // 获取path的长度
            var len = path.getTotalLength();
            var pen = svg.select("#pen")
            path.attr({
                stroke: '#00f',
                strokeWidth: 25,
                fill: 'none',
                "stroke-dasharray": len + " " + len,
                "stroke-dashoffset": len
            }).animate({ "stroke-dashoffset": 10 }, 5000, mina.linear);
            var cnt = 0;
            window.setTimeout(
                Snap.animate(0, len, function (value) {
                    movePoint = path.getPointAtLength(value);
                    pen.attr({ x: movePoint.x, y: movePoint.y });
                    // if (cnt % 10 == 0) {
                    //     svg.text(movePoint.x, movePoint.y, cnt / 10);
                    // }
                    cnt++;
                }, 5000, mina.linear, function () {
                    pen.attr({ x: -110, y: -110 });
                }));
        };


    </script>
</body>

</html